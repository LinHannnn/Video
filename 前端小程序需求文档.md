# 视频提取小程序前端需求文档

## 项目概述

基于微信小程序平台开发的视频链接解析工具，为用户提供便捷的视频内容提取服务。

## 功能需求

### 1. 用户认证系统

#### 1.1 登录功能
- **主要方式**：微信一键登录（wx.login + wx.getUserProfile）
- **开发阶段替代方案**：
  - 手机号快捷登录
  - 游客模式（临时身份）
  - 模拟登录（开发测试用）

#### 1.2 用户信息管理
- 获取并显示用户头像
- 获取并显示用户昵称
- 用户登录状态持久化

### 2. 底部导航结构

#### 2.1 导航栏配置
- **首页**：主要功能入口
- **我的**：个人中心

### 3. 首页功能模块

#### 3.1 页面布局
- **顶部提示区域**：
  - 显示"永久免费使用"
  - 显示"如使用中遇到问题可向客服反馈"

#### 3.2 核心功能区
- **输入框**：
  - 占位符文本："请粘贴视频和图集的链接"
  - 支持多行文本输入
  - 自动检测链接格式
  
- **操作按钮组**：
  - **粘贴按钮**：读取系统剪贴板内容
  - **清空按钮**：清除输入框内容
  
- **提取按钮**：
  - 主要操作按钮
  - 点击前进行免责声明确认

#### 3.3 免责声明区域
- **位置**：输入框下方
- **内容**："所有内容由平台和作者所有，本小程序不存储任何数据"

### 4. 视频提取功能

#### 4.1 提取流程
1. 用户输入视频链接
2. 点击"提取视频"按钮
3. 弹出免责声明对话框
4. 用户确认后开始解析
5. 显示解析结果

#### 4.2 免责声明弹窗
- **触发时机**：点击提取视频按钮时
- **内容**：
  ```
  本小程序下载的资源仅供学习和研究，请在3小时内删除。
  若您使用本小程序服务提供的数据导致侵犯任何第三方的知识产权，
  由此产生的任何责任和后果均由您自行承担，
  本小程序不承担任何责任。
  ```
- **操作按钮**：
  - 确认并继续
  - 取消

#### 4.3 结果展示
- 视频基本信息展示
- 下载链接提供
- 支持多种清晰度选择
- 错误提示和重试机制

### 5. 个人中心模块

#### 5.1 用户信息展示
- 用户头像显示
- 用户昵称显示
- 登录状态指示

#### 5.2 功能菜单
- **免责声明**：
  - 点击弹出完整免责声明
  - 内容与首页提取时相同
  
- **联系客服**：
  - 跳转到客服页面
  - 显示客服二维码
  - 显示微信号信息

### 6. 客服页面

#### 6.1 页面内容
- **客服二维码图片**：用户扫码添加客服
- **微信号文本**：可复制的微信号
- **使用说明**：如何联系客服的指引

## 技术规范

### 1. 后端API对接

#### 1.1 主要接口
- **视频解析接口**：`POST /api/video/parse`
  ```json
  {
    "url": "视频链接地址"
  }
  ```

- **支持平台查询**：`GET /api/video/platforms`
- **健康检查**：`GET /api/video/health`

#### 1.2 响应格式
```json
{
  "code": 200,
  "msg": "操作结果描述",
  "data": "响应数据",
  "exec_time": "执行时间",
  "user_ip": "用户IP"
}
```

### 2. 小程序技术栈

#### 2.1 开发框架
- 微信小程序原生开发
- 或使用 uni-app 跨平台框架

#### 2.2 状态管理
- 用户登录状态
- 视频解析历史
- 应用配置信息

#### 2.3 数据存储
- 本地存储（wx.setStorageSync）
- 用户偏好设置
- 临时缓存数据

### 3. UI/UX 设计要求

#### 3.1 设计风格
- 简洁现代的界面设计
- 符合微信小程序设计规范
- 良好的用户体验流程

#### 3.2 响应式设计
- 适配不同尺寸屏幕
- 考虑横屏使用场景
- 保证可访问性

#### 3.3 交互反馈
- 加载状态指示
- 操作成功/失败提示
- 网络异常处理

### 4. 性能优化

#### 4.1 加载优化
- 图片懒加载
- 接口请求防抖
- 页面预加载

#### 4.2 体验优化
- 离线提示
- 网络重连机制
- 数据缓存策略

## 开发计划

### 阶段一：基础框架搭建
1. 项目初始化和配置
2. 底部导航栏实现
3. 基础页面结构搭建

### 阶段二：核心功能开发
1. 用户登录系统
2. 首页视频提取功能
3. API接口对接

### 阶段三：完善和优化
1. 个人中心完善
2. 客服页面开发
3. 错误处理和用户体验优化

### 阶段四：测试和发布
1. 功能测试
2. 兼容性测试
3. 小程序审核和发布

## 注意事项

1. **合规要求**：确保内容符合微信小程序审核规范
2. **隐私保护**：妥善处理用户数据，遵循隐私政策
3. **版权声明**：明确免责条款，保护平台权益
4. **用户体验**：提供清晰的操作指引和错误提示 