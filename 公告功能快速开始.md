# ğŸ“¢ å…¬å‘ŠåŠŸèƒ½å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### 1. æŸ¥çœ‹å½“å‰å…¬å‘Š

```bash
curl http://localhost:3000/api/announcements/active
```

**è¾“å‡º**ï¼š
```json
{
  "code": 200,
  "msg": "è·å–æˆåŠŸ",
  "data": [
    {
      "id": 1,
      "content": "ğŸ‰ æ¬¢è¿ä½¿ç”¨è§†é¢‘è§£æå°ç¨‹åºï¼",
      "priority": 10
    },
    {
      "id": 2,
      "content": "ğŸ“¢ ç™»å½•åå³å¯ä½¿ç”¨å…¨éƒ¨åŠŸèƒ½ï¼",
      "priority": 5
    }
  ]
}
```

---

### 2. åˆ›å»ºæ–°å…¬å‘Š

```bash
curl -X POST http://localhost:3000/api/announcements \
  -H "Content-Type: application/json" \
  -d '{
    "content": "ğŸŠ æ­å–œæ‚¨æˆåŠŸåˆ›å»ºç¬¬ä¸€æ¡å…¬å‘Šï¼",
    "status": 1,
    "priority": 20
  }'
```

**æˆåŠŸå“åº”**ï¼š
```json
{
  "code": 200,
  "msg": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 3
  }
}
```

---

### 3. æ›´æ–°å…¬å‘Š

```bash
curl -X PUT http://localhost:3000/api/announcements/3 \
  -H "Content-Type: application/json" \
  -d '{
    "content": "ğŸŠ è¿™æ˜¯æ›´æ–°åçš„å…¬å‘Šå†…å®¹ï¼",
    "priority": 30
  }'
```

---

### 4. ç¦ç”¨å…¬å‘Š

```bash
curl -X POST http://localhost:3000/api/announcements/batch/status \
  -H "Content-Type: application/json" \
  -d '{
    "ids": [3],
    "status": 0
  }'
```

---

### 5. åˆ é™¤å…¬å‘Š

```bash
curl -X DELETE http://localhost:3000/api/announcements/3
```

---

## ğŸ“± å°ç¨‹åºæ•ˆæœ

æ‰“å¼€å°ç¨‹åºé¦–é¡µï¼Œæ‚¨å°†çœ‹åˆ°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      è§†é¢‘æå–åŠ©æ‰‹              â”‚
â”‚  æ”¯æŒä¸»æµå¹³å°è§†é¢‘æ— æ°´å°ä¸‹è½½    â”‚
â”‚                                â”‚
â”‚  ğŸ“¢ æ¬¢è¿ä½¿ç”¨è§†é¢‘è§£æå°ç¨‹åºï¼   â”‚ â† å…¬å‘Šä¼šè‡ªåŠ¨æ»šåŠ¨
â”‚     æ”¯æŒæŠ–éŸ³ã€å¿«æ‰‹ã€Bç«™...     â”‚
â”‚                                â”‚
â”‚  [è¯·ç²˜è´´è§†é¢‘é“¾æ¥...]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ å¸¸ç”¨åœºæ™¯

### åœºæ™¯1ï¼šå‘å¸ƒç³»ç»Ÿé€šçŸ¥

```bash
curl -X POST http://localhost:3000/api/announcements \
  -H "Content-Type: application/json" \
  -d '{
    "content": "âš ï¸ ç³»ç»Ÿå°†äºä»Šæ™š22:00è¿›è¡Œç»´æŠ¤ï¼Œé¢„è®¡1å°æ—¶",
    "status": 1,
    "priority": 100
  }'
```

### åœºæ™¯2ï¼šå‘å¸ƒæ´»åŠ¨ä¿¡æ¯

```bash
curl -X POST http://localhost:3000/api/announcements \
  -H "Content-Type: application/json" \
  -d '{
    "content": "ğŸ”¥ åŒåä¸€æ´»åŠ¨å¼€å§‹å•¦ï¼å…¨åœºåŠŸèƒ½å…è´¹ä½¿ç”¨ï¼",
    "status": 1,
    "priority": 90,
    "start_time": "2025-10-10 00:00:00",
    "end_time": "2025-10-12 23:59:59"
  }'
```

### åœºæ™¯3ï¼šå‘å¸ƒä½¿ç”¨æç¤º

```bash
curl -X POST http://localhost:3000/api/announcements \
  -H "Content-Type: application/json" \
  -d '{
    "content": "ğŸ’¡ æ¸©é¦¨æç¤ºï¼šä¸‹è½½çš„è§†é¢‘ä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨",
    "status": 1,
    "priority": 10
  }'
```

---

## ğŸ”§ ç®¡ç†å‘½ä»¤

### æŸ¥çœ‹æ‰€æœ‰å…¬å‘Šï¼ˆåŒ…æ‹¬ç¦ç”¨çš„ï¼‰

```bash
curl 'http://localhost:3000/api/announcements?page=1&limit=10'
```

### åªæŸ¥çœ‹å¯ç”¨çš„å…¬å‘Š

```bash
curl 'http://localhost:3000/api/announcements?status=1'
```

### åªæŸ¥çœ‹ç¦ç”¨çš„å…¬å‘Š

```bash
curl 'http://localhost:3000/api/announcements?status=0'
```

---

## ğŸ“Š æ•°æ®åº“æ“ä½œ

### ç›´æ¥æ’å…¥å…¬å‘Š

```sql
INSERT INTO announcements (content, status, priority) 
VALUES ('è¿™æ˜¯ä¸€æ¡æ–°å…¬å‘Š', 1, 10);
```

### æŸ¥çœ‹æ‰€æœ‰å…¬å‘Š

```sql
SELECT * FROM announcements ORDER BY priority DESC, created_at DESC;
```

### å¯ç”¨/ç¦ç”¨å…¬å‘Š

```sql
-- å¯ç”¨
UPDATE announcements SET status = 1 WHERE id = 1;

-- ç¦ç”¨
UPDATE announcements SET status = 0 WHERE id = 1;
```

---

## âš¡ å¿«æ·æ“ä½œè„šæœ¬

### åˆ›å»º `add-announcement.sh`

```bash
#!/bin/bash
curl -X POST http://localhost:3000/api/announcements \
  -H "Content-Type: application/json" \
  -d "{
    \"content\": \"$1\",
    \"status\": 1,
    \"priority\": ${2:-10}
  }"
```

**ä½¿ç”¨**ï¼š
```bash
chmod +x add-announcement.sh
./add-announcement.sh "è¿™æ˜¯ä¸€æ¡æ–°å…¬å‘Š" 20
```

---

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

### ä¿®æ”¹å…¬å‘ŠèƒŒæ™¯è‰²

ç¼–è¾‘ `miniprogram/pages/home/home.wxss`ï¼š

```css
.announcement-section {
  /* ä¿®æ”¹ä¸ºæ©™è‰²æ¸å˜ */
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  
  /* æˆ–çº¯è‰²èƒŒæ™¯ */
  background: #007aff;
}
```

### ä¿®æ”¹æ»šåŠ¨é€Ÿåº¦

ç¼–è¾‘ `miniprogram/pages/home/home.wxml`ï¼š

```xml
<swiper 
  interval="3000"  <!-- ä¿®æ”¹è¿™ä¸ªå€¼ï¼šå•ä½æ¯«ç§’ -->
  duration="500"   <!-- åˆ‡æ¢åŠ¨ç”»æ—¶é•¿ -->
>
```

---

## ğŸ’¡ å°è´´å£«

### 1. å…¬å‘Šä¼˜å…ˆçº§å»ºè®®
- **100+**ï¼šç´§æ€¥é‡è¦ï¼ˆçº¢è‰²ï¼‰
- **50-99**ï¼šé‡è¦ï¼ˆæ©™è‰²ï¼‰
- **10-49**ï¼šæ™®é€šï¼ˆè“è‰²ï¼‰
- **1-9**ï¼šæ¬¡è¦ï¼ˆç°è‰²ï¼‰

### 2. å†…å®¹é•¿åº¦å»ºè®®
- âœ… **æœ€ä½³**ï¼š20-40å­—
- âš ï¸ **å¯ç”¨**ï¼š40-80å­—
- âŒ **ä¸æ¨è**ï¼šè¶…è¿‡80å­—

### 3. æ›´æ–°é¢‘ç‡å»ºè®®
- ä¸è¦é¢‘ç¹æ›´æ–°ï¼ˆå½±å“ç”¨æˆ·ä½“éªŒï¼‰
- ä¸€å¤©æœ€å¤šæ›´æ–°2-3æ¬¡
- èŠ‚å‡æ—¥å¯é€‚å½“å¢åŠ 

---

## ğŸ› é—®é¢˜æ’æŸ¥

### é—®é¢˜ï¼šå…¬å‘Šä¸æ˜¾ç¤º

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ•°æ®åº“è¡¨æ˜¯å¦å­˜åœ¨
3. å…¬å‘ŠçŠ¶æ€æ˜¯å¦ä¸ºå¯ç”¨
4. å°ç¨‹åºæ˜¯å¦æ­£ç¡®è°ƒç”¨æ¥å£

**è§£å†³å‘½ä»¤**ï¼š
```bash
# 1. æ£€æŸ¥æœåŠ¡
curl http://localhost:3000/api/announcements/active

# 2. åˆå§‹åŒ–æ•°æ®åº“
node scripts/createAnnouncementsTable.js

# 3. æŸ¥çœ‹æ•°æ®åº“
SELECT * FROM announcements WHERE status = 1;
```

---

## ğŸ“š æ›´å¤šæ–‡æ¡£

- **æ»šåŠ¨å…¬å‘ŠåŠŸèƒ½è¯´æ˜.md** - å®Œæ•´åŠŸèƒ½æ–‡æ¡£
- **âœ…_æ»šåŠ¨å…¬å‘ŠåŠŸèƒ½å®Œæˆæ€»ç»“.md** - åŠŸèƒ½æ€»ç»“

---

## ğŸ‰ å¿«é€Ÿæµ‹è¯•

å¤åˆ¶ä»¥ä¸‹å‘½ä»¤å¿«é€Ÿä½“éªŒï¼š

```bash
# 1. æŸ¥çœ‹å…¬å‘Š
curl http://localhost:3000/api/announcements/active

# 2. åˆ›å»ºå…¬å‘Š
curl -X POST http://localhost:3000/api/announcements \
  -H "Content-Type: application/json" \
  -d '{"content":"ğŸŠ æµ‹è¯•å…¬å‘Š","status":1,"priority":50}'

# 3. å†æ¬¡æŸ¥çœ‹
curl http://localhost:3000/api/announcements/active
```

---

**å¼€å§‹ä½¿ç”¨å§ï¼** ğŸš€
